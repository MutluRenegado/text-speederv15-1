<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>âš¡ TextSpeeder v10.1</title>
    <meta
      name="description"
      content="TextSpeeder v10.1 â€“ Speed reading app with accessibility, consent, and theme support."
    />

    <!-- âœ… Optional: Tailwind first (if you use it) -->
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <!-- âœ… Your custom CSS last, so it overrides Tailwind -->
    <link rel="stylesheet" href="style.min.css" />
  </head>

  <body>
    <!-- =======================================================
         âš¡ MAIN APP INTERFACE
         ======================================================= -->
    <div class="app-root max-w-[1280px] mx-auto min-h-screen flex flex-col">
      <!-- === Sidebar (Hidden by default) === -->
      <aside id="sidebar" class="sidebar hidden fixed top-0 left-0 h-full w-64 bg-[#020617] border-r border-gray-800 transition-transform duration-300 -translate-x-full z-40">
        <div class="p-4 space-y-3 text-gray-200">
          <h2 class="text-sm uppercase tracking-wider text-gray-400">
            Navigation
          </h2>
          <button class="block w-full text-left hover:text-cyan-400" onclick="goHome()">ğŸ  Home</button>
          <button class="block w-full text-left hover:text-cyan-400" onclick="goProfile()">ğŸ‘¤ Profile</button>
          <button class="block w-full text-left hover:text-cyan-400" onclick="goLeaderboard()">ğŸ† Leaderboard</button>
          <button id="closeSidebar" class="block w-full text-left text-red-400 mt-2">âœ– Close</button>
        </div>
      </aside>

      <!-- === Sidebar Toggle === -->
      <button
        id="sidebarToggle"
        class="fixed top-3 left-3 z-50 bg-[#020617] border border-gray-700 rounded-full px-3 py-1 text-sm text-gray-300 hover:text-cyan-400"
      >
        â˜° Menu
      </button>

      <!-- === Header === -->
      <header class="top-bar flex items-center justify-between p-4 border-b border-gray-800">
        <h1 class="text-xl font-semibold text-gray-100">âš¡ TextSpeeder</h1>
        <button
          id="themeToggle"
          class="theme-toggle w-8 h-8 rounded-full border border-gray-700 bg-transparent"
          aria-label="Toggle Dark/Light Mode"
        ></button>
      </header>

      <!-- === Main Content === -->
      <main class="content flex-1 flex flex-col p-4 gap-4">
        <textarea
          id="textInput"
          class="w-full rounded-lg border border-gray-700 bg-[#0b1120] p-3 text-gray-200"
          placeholder="Paste or load your text here..."
        ></textarea>

        <div class="controls flex gap-2">
          <button id="loadBtn" class="px-3 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-500">Load</button>
          <button id="pauseBtn" class="px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600">Pause</button>
          <button id="startOverBtn" class="px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600">Restart</button>
        </div>

        <!-- === Two Reading Screens (stacked behind each other) === -->
        <div class="relative w-full flex-1 rounded-lg border border-gray-800 overflow-hidden mt-4">
          <section id="flowScreen" class="screen flow absolute inset-0 opacity-100 transition-opacity duration-300 flex items-center justify-center">
            <div id="marquee" class="text-3xl font-semibold text-cyan-400"></div>
          </section>

          <section id="rsvpScreen" class="screen rsvp absolute inset-0 opacity-0 transition-opacity duration-300 flex items-center justify-center">
            <div id="rsvpWord" class="text-3xl font-semibold text-cyan-400"></div>
          </section>
        </div>
      </main>
    </div>

    <!-- âœ… Control buttons below the screens -->
<div class="reader-controls">
  <button id="pauseBtn">â¸ï¸ Pause</button>
  <button id="restartBtn">ğŸ” Start Over</button>
  <button id="hideLinesBtn">ğŸ§¾ Hide Lines</button>
  <button id="hideScreenBtn">ğŸ•³ï¸ Hide Screen</button>
</div>
    <!-- =======================================================
         â™¿ ACCESSIBILITY LAYER (With Custom Handle)
         ======================================================= -->
    <div id="accessibilityLayer">
      <div id="accessibilityOverlay" class="accessibility-overlay"></div>

      <div id="accessibilityFrame" class="accessibility-frame">
        <div class="accessibility-panel">
          <button
            id="closeAccessibility"
            class="close-btn"
            aria-label="Close Accessibility Menu"
          >
            âœ–
          </button>
          <h3>Accessibility Options</h3>

          <button data-mode="accessible-mode">ğŸŸ¢ Accessible Mode</button>
          <button data-mode="colorblind-deuteranopia">ğŸŸ¡ Deuteranopia</button>
          <button data-mode="colorblind-protanopia">ğŸ”´ Protanopia</button>
          <button data-mode="colorblind-tritanopia">ğŸ”µ Tritanopia</button>

          <button id="resetAccessibility" class="reset-btn">Reset</button>
          <p id="accessibilityStatus" class="status">Mode: Default</p>
        </div>
      </div>

      <!-- â™¿ Custom Accessibility Handle Button -->
      <button
        id="accessibilityToggle"
        class="accessibility-toggle"
        aria-label="Open Accessibility Menu"
      >
        <img
          src="assets/handle/accessibility-handle.png"
          alt="Accessibility Handle"
          class="accessibility-icon"
        />
      </button>
    </div>

    <!-- =======================================================
         ğŸª CONSENT MANAGER
         ======================================================= -->
    <div id="consentBanner" class="consent-banner">
      <div class="consent-content">
        <p>
          We use cookies to enhance your experience, analyze usage, and connect
          with Google Tag Manager (GTM). You can choose to accept or reject.
        </p>
        <div class="consent-buttons">
          <button id="acceptCookies">Accept</button>
          <button id="rejectCookies" class="reject">Reject</button>
        </div>
      </div>
    </div>

    <!-- =======================================================
         ğŸŒ FOOTER
         ======================================================= -->
    <footer class="footer border-t border-gray-800 mt-8 p-4 text-center text-gray-400 text-sm">
      <nav class="footer-links space-x-2">
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Licence" target="_blank" rel="noopener noreferrer">ğŸ“œ License</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Privacy-Policy" target="_blank" rel="noopener noreferrer">ğŸ” Privacy</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki" target="_blank" rel="noopener noreferrer">ğŸ“˜ Docs</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Features" target="_blank" rel="noopener noreferrer">âœ¨ Features</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/FAQ" target="_blank" rel="noopener noreferrer">ğŸ’¬ FAQ</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Customization" target="_blank" rel="noopener noreferrer">ğŸ¨ Customization</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/keyboard%E2%80%90shortcuts" target="_blank" rel="noopener noreferrer">âŒ¨ï¸ Shortcuts</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Roadmap" target="_blank" rel="noopener noreferrer">ğŸ—ºï¸ Roadmap</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/ReadMe" target="_blank" rel="noopener noreferrer">ğŸ“– ReadMe</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Contact" target="_blank" rel="noopener noreferrer">ğŸ“¬ Contact</a>
        <span class="footer-divider">|</span>
        <span class="footer-copy"
          >Â© TextSpeeder <span id="currentYear"></span>. All rights reserved.</span
        >
      </nav>
    </footer>

    <!-- =======================================================
         ğŸ“œ SCRIPTS
         ======================================================= -->
    <script src="accessibility.js"></script>
    <script src="consent.js"></script>
    <script>
      // Footer year
      document.getElementById("currentYear").textContent = new Date().getFullYear();

      // Sidebar toggle
      const sidebar = document.getElementById("sidebar");
      const sidebarToggle = document.getElementById("sidebarToggle");
      const closeSidebar = document.getElementById("closeSidebar");

      sidebarToggle.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        sidebar.classList.toggle("hidden");
      });
      closeSidebar.addEventListener("click", () => {
        sidebar.classList.add("-translate-x-full");
        setTimeout(() => sidebar.classList.add("hidden"), 250);
      });

      // Dummy nav actions
      function goHome() { alert("Go to Home screen"); }
      function goProfile() { alert("Go to Profile screen"); }
      function goLeaderboard() { alert("Go to Leaderboard screen"); }

      // Dual screen toggling logic example
      const flow = document.getElementById("flowScreen");
      const rsvp = document.getElementById("rsvpScreen");
      document.getElementById("pauseBtn").addEventListener("click", () => {
        flow.classList.toggle("opacity-0");
        rsvp.classList.toggle("opacity-100");
      });
    </script>
  </body>
</html>
