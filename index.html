<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>âš¡ TextSpeeder v10.1</title>

    <!-- âœ… Tailwind -->
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.min.css" />
  </head>

  <body class="bg-[#0b1120] text-gray-100">
    <div class="app-root max-w-[1280px] mx-auto min-h-screen flex flex-col">
      <!-- === Sidebar (Right Side) === -->
      <aside
        id="sidebar"
        class="sidebar hidden fixed top-0 right-0 h-full w-64 bg-[#020617] border-l border-gray-800 transition-transform duration-300 translate-x-full z-40"
      >
        <div class="p-4 space-y-3 text-gray-200 overflow-y-auto h-full">
          <h2 class="text-sm uppercase tracking-wider text-gray-400">
            Navigation
          </h2>
          <button
            class="block w-full text-left hover:text-cyan-400"
            onclick="goHome()"
          >
            ğŸ  Home
          </button>
          <button
            class="block w-full text-left hover:text-cyan-400"
            onclick="goProfile()"
          >
            ğŸ‘¤ Profile
          </button>
          <button
            class="block w-full text-left hover:text-cyan-400"
            onclick="goLeaderboard()"
          >
            ğŸ† Leaderboard
          </button>

          <!-- â™¿ Accessibility Section -->
          <div class="mt-4 border-t border-gray-700 pt-4">
            <h2 class="text-sm uppercase tracking-wider text-gray-400 mb-2">
              Accessibility
            </h2>
            <button
              id="accessibilitySidebarToggle"
              class="block w-full text-left text-cyan-400 hover:text-cyan-300"
            >
              â™¿ Open Accessibility
            </button>

            <!-- Accessibility Panel -->
            <div
              id="accessibilityPanel"
              class="hidden mt-3 bg-[#0b1120] border border-gray-700 rounded-lg p-3 space-y-2"
            >
              <button
                id="closeAccessibilitySidebar"
                class="text-red-400 text-sm float-right"
              >
                âœ–
              </button>
              <h3 class="font-semibold mb-1">Accessibility Options</h3>
              <button
                data-mode="accessible-mode"
                class="block w-full text-left hover:text-cyan-400"
              >
                ğŸŸ¢ Accessible Mode
              </button>
              <button
                data-mode="colorblind-deuteranopia"
                class="block w-full text-left hover:text-cyan-400"
              >
                ğŸŸ¡ Deuteranopia
              </button>
              <button
                data-mode="colorblind-protanopia"
                class="block w-full text-left hover:text-cyan-400"
              >
                ğŸ”´ Protanopia
              </button>
              <button
                data-mode="colorblind-tritanopia"
                class="block w-full text-left hover:text-cyan-400"
              >
                ğŸ”µ Tritanopia
              </button>
              <button
                id="resetAccessibility"
                class="block w-full text-left text-sm text-gray-300 hover:text-cyan-400 mt-2"
              >
                Reset
              </button>
              <p id="accessibilityStatus" class="text-xs text-gray-400 mt-2">
                Mode: Default
              </p>
            </div>
          </div>

          <button
            id="closeSidebar"
            class="block w-full text-left text-red-400 mt-4"
          >
            âœ– Close Sidebar
          </button>
        </div>
      </aside>

      <!-- === Sidebar Toggle Button (Right Side) === -->
    <button
  id="sidebarToggle"
  class="fixed top-3 right-3 z-50 bg-[#020617] border border-gray-700 rounded-full p-2 text-xs text-gray-300 hover:text-cyan-400 flex items-center justify-center"
  title="Menu"
>
  â˜°
</button>


      <!-- âœ… NEW: Floating Accessibility Handle -->
      <button
        id="accessibilityToggle"
        class="fixed top-1/2 right-0 transform -translate-y-1/2 z-50 bg-[#020617] border border-gray-700 rounded-l-lg p-2 hover:bg-cyan-600 transition"
        aria-label="Open Accessibility Menu"
      >
        <img
          src="assets/handle/accessibility-handle.png"
          alt="Accessibility Handle"
          class="w-8 h-8"
        />
      </button>

      <!-- === Header === -->
      <header
        class="top-bar flex items-center justify-between p-4 border-b border-gray-800"
      >
        <h1 class="text-xl font-semibold text-gray-100">âš¡ TextSpeeder</h1>
        <button
          id="themeToggle"
          class="theme-toggle w-8 h-8 rounded-full border border-gray-700 bg-transparent"
          aria-label="Toggle Dark/Light Mode"
        ></button>
      </header>

      <!-- === Main Content === -->
      <main class="content flex-1 flex flex-col p-4 gap-4">
        <textarea
          id="textInput"
          class="w-full rounded-lg border border-gray-700 bg-[#0b1120] p-3 text-gray-200"
          placeholder="Paste or load your text here..."
        ></textarea>

        <div class="controls flex gap-2">
          <button
            id="loadBtn"
            class="px-3 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-500"
          >
            Load
          </button>
          <button
            id="pauseBtn"
            class="px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600"
          >
            Pause
          </button>
          <button
            id="startOverBtn"
            class="px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600"
          >
            Restart
          </button>
        </div>

        <div
          class="relative w-full flex-1 rounded-lg border border-gray-800 overflow-hidden mt-4"
        >
          <section
            id="flowScreen"
            class="screen flow absolute inset-0 opacity-100 transition-opacity duration-300 flex items-center justify-center"
          >
            <div id="marquee" class="text-3xl font-semibold text-cyan-400"></div>
          </section>

          <section
            id="rsvpScreen"
            class="screen rsvp absolute inset-0 opacity-0 transition-opacity duration-300 flex items-center justify-center"
          >
            <div id="rsvpWord" class="text-3xl font-semibold text-cyan-400"></div>
          </section>
        </div>
      </main>
    </div>

    <!-- === Footer === -->
    <footer class="footer border-t border-gray-800 mt-8 p-4 text-center text-gray-400 text-sm">
      <nav class="footer-links space-x-2">
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Licence" target="_blank" rel="noopener noreferrer">ğŸ“œ License</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Privacy-Policy" target="_blank" rel="noopener noreferrer">ğŸ” Privacy</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki" target="_blank" rel="noopener noreferrer">ğŸ“˜ Docs</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Features" target="_blank" rel="noopener noreferrer">âœ¨ Features</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/FAQ" target="_blank" rel="noopener noreferrer">ğŸ’¬ FAQ</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Customization" target="_blank" rel="noopener noreferrer">ğŸ¨ Customization</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/keyboard%E2%80%90shortcuts" target="_blank" rel="noopener noreferrer">âŒ¨ï¸ Shortcuts</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Roadmap" target="_blank" rel="noopener noreferrer">ğŸ—ºï¸ Roadmap</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/ReadMe" target="_blank" rel="noopener noreferrer">ğŸ“– ReadMe</a>
        <a href="https://github.com/MutluRenegado/text-speeder-docs/wiki/Contact" target="_blank" rel="noopener noreferrer">ğŸ“¬ Contact</a>
        <span class="footer-divider">|</span>
        <span class="footer-copy">Â© TextSpeeder <span id="currentYear"></span>. All rights reserved.</span>
      </nav>
    </footer>

    <!-- === Scripts === -->
    <script>
      document.getElementById("currentYear").textContent =
        new Date().getFullYear();

      const sidebar = document.getElementById("sidebar");
      const sidebarToggle = document.getElementById("sidebarToggle");
      const closeSidebar = document.getElementById("closeSidebar");
      const handleButton = document.getElementById("accessibilityToggle");

      // === Sidebar Toggle (â˜° Button) ===
      sidebarToggle.addEventListener("click", () => {
        sidebar.classList.remove("hidden");
        sidebar.classList.toggle("translate-x-full");
      });

      // === Floating Handle Toggle ===
      handleButton.addEventListener("click", () => {
        sidebar.classList.remove("hidden");
        sidebar.classList.toggle("translate-x-full");
      });

      // === Close Sidebar ===
      closeSidebar.addEventListener("click", () => {
        sidebar.classList.add("translate-x-full");
        setTimeout(() => sidebar.classList.add("hidden"), 300);
      });

      // === Accessibility Toggle in Sidebar ===
      const accessToggle = document.getElementById("accessibilitySidebarToggle");
      const accessPanel = document.getElementById("accessibilityPanel");
      const closeAccess = document.getElementById("closeAccessibilitySidebar");

      accessToggle.addEventListener("click", () => {
        accessPanel.classList.toggle("hidden");
      });

      closeAccess.addEventListener("click", () => {
        accessPanel.classList.add("hidden");
      });

      // Dummy nav functions
      function goHome() {
        alert("Go to Home screen");
      }
      function goProfile() {
        alert("Go to Profile screen");
      }
      function goLeaderboard() {
        alert("Go to Leaderboard screen");
      }

      // Example flow toggle
      const flow = document.getElementById("flowScreen");
      const rsvp = document.getElementById("rsvpScreen");
      document.getElementById("pauseBtn").addEventListener("click", () => {
        flow.classList.toggle("opacity-0");
        rsvp.classList.toggle("opacity-100");
      });
    </script>

    <script src="accessibility.js"></script>
    <script src="consent.js"></script>
    <script src="react.tsx"></script>
  </body>
</html>
