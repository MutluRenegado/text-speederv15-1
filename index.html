<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>‚ö° TextSpeeder v10.1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="TextSpeeder v10.1 ‚Äì Speed reading app with new side controls and settings." />

  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />

  <style>
    :root {
      --bg-color: #0b1120;
      --text-color: #f3f4f6;
      --accent: #06b6d4;
      --border: #1e293b;
    }

    body {
      margin: 0;
      background: var(--bg-color);
      color: var(--text-color);
      font-family: "Inter", sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .app-container {
      position: relative;
      width: 100%;
      max-width: 1280px;
      display: flex;
      flex-direction: column;
      padding: 1rem;
    }

    .reader-area {
      position: relative;
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 2rem;
    }

    /* Reading screen reduced height by 25% */
    .reading-box {
      width: 100%;
      height: 90px;
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #020617;
      color: var(--accent);
      font-size: 2rem;
      font-weight: 600;
      overflow: hidden;
      position: relative;
      transition: all 0.3s ease;
    }

    /* Left and right control panels */
    .side-panel {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      background: #0f172a;
      border: 1px solid var(--border);
      padding: 1rem;
      border-radius: 0.75rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      z-index: 40;
    }

    .left-panel {
      left: 1rem;
    }

    .right-panel {
      right: 1rem;
      align-items: center;
    }

    .side-panel select,
    .side-panel input,
    .side-panel button {
      background: #1e293b;
      color: #e2e8f0;
      border: 1px solid var(--border);
      padding: 0.4rem 0.5rem;
      border-radius: 0.5rem;
      font-size: 0.9rem;
      width: 140px;
    }

    .settings-section {
      margin-top: 2rem;
      background: #0f172a;
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      padding: 1rem;
      width: 100%;
    }

    .settings-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-weight: 600;
      color: var(--accent);
    }

    .settings-content {
      margin-top: 0.75rem;
      display: none;
      flex-direction: column;
      gap: 0.5rem;
    }

    .settings-content.active {
      display: flex;
    }

    button {
      cursor: pointer;
      transition: background 0.2s ease;
    }

    button:hover {
      background: var(--accent);
      color: #000;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <h1 class="text-center text-2xl font-bold text-cyan-400">‚ö° TextSpeeder v10.1</h1>

    <!-- üß† Text Input -->
    <textarea
      id="textInput"
      class="w-full mt-4 rounded-lg border border-gray-700 bg-[#0b1120] p-3 text-gray-200"
      rows="6"
      placeholder="Paste or load your text here..."
    ></textarea>

    <!-- üìñ Reading Area -->
    <div class="reader-area">
      <div class="reading-box" id="readingBox">
        <div id="displayWord">Your text will appear here...</div>
      </div>
    </div>

    <!-- ‚öôÔ∏è Settings Section -->
    <div class="settings-section">
      <div id="settingsHeader" class="settings-header">
        <span>‚öôÔ∏è Settings</span>
        <span id="toggleSettings">‚ñº</span>
      </div>
      <div id="settingsContent" class="settings-content">
        <button id="toggleLinesBtn">üßæ Hide Lines</button>
        <button id="hideScreenBtn">üï≥Ô∏è Hide Screen</button>
        <button id="themeToggle">üåó Toggle Theme</button>
        <button id="accessibleToggle">‚ôø Accessible Mode</button>
      </div>
    </div>

    <!-- üïπÔ∏è Playback Controls -->
    <div class="flex justify-center gap-3 mt-4">
      <button id="loadBtn" class="px-3 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-500">Load</button>
      <button id="pauseBtn" class="px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600">Pause</button>
      <button id="startOverBtn" class="px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600">Restart</button>
    </div>
  </div>

  <!-- üéõÔ∏è LEFT PANEL -->
  <div class="side-panel left-panel">
    <select id="modeSelect">
      <option value="flow">Flow Mode</option>
      <option value="rsvp">RSVP Mode</option>
    </select>

    <select id="fontType">
      <option value="sans-serif">Default</option>
      <option value="serif">Serif</option>
      <option value="monospace">Monospace</option>
      <option value="'Kalam', cursive">Handwriting</option>
    </select>

    <select id="bgColor">
      <option value="#000000">Black</option>
      <option value="#1e293b">Dark Blue</option>
      <option value="#333333">Gray</option>
      <option value="#004466">Deep Blue</option>
    </select>

    <button id="resetStyles">üîÑ Reset</button>
  </div>

  <!-- üéõÔ∏è RIGHT PANEL -->
  <div class="side-panel right-panel">
    <label class="text-sm text-gray-300">üìÇ Upload</label>
    <input type="file" id="fileInput" accept=".txt" />

    <label class="text-sm text-gray-300 mt-2">‚ö° WPM</label>
    <input type="number" id="wpmInput" min="50" max="1000" value="200" />
    <input type="range" id="wpmSlider" min="50" max="1000" value="200" />
  </div>

  <script>
    // === Basic functionality ===
    const fileInput = document.getElementById("fileInput");
    const textInput = document.getElementById("textInput");
    const loadBtn = document.getElementById("loadBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const startOverBtn = document.getElementById("startOverBtn");
    const displayWord = document.getElementById("displayWord");
    const wpmInput = document.getElementById("wpmInput");
    const wpmSlider = document.getElementById("wpmSlider");
    const readingBox = document.getElementById("readingBox");

    let words = [];
    let currentIndex = 0;
    let isPaused = false;
    let intervalId;

    function startReading() {
      clearInterval(intervalId);
      const wpm = parseInt(wpmInput.value);
      const delay = 60000 / wpm;
      words = textInput.value.trim().split(/\s+/);
      currentIndex = 0;

      intervalId = setInterval(() => {
        if (!isPaused && currentIndex < words.length) {
          displayWord.textContent = words[currentIndex++];
        }
      }, delay);
    }

    loadBtn.addEventListener("click", startReading);
    pauseBtn.addEventListener("click", () => {
      isPaused = !isPaused;
      pauseBtn.textContent = isPaused ? "‚ñ∂Ô∏è Resume" : "‚è∏Ô∏è Pause";
    });
    startOverBtn.addEventListener("click", startReading);

    fileInput.addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (evt) => (textInput.value = evt.target.result);
      reader.readAsText(file);
    });

    wpmSlider.addEventListener("input", () => (wpmInput.value = wpmSlider.value));
    wpmInput.addEventListener("input", () => (wpmSlider.value = wpmInput.value));

    // === Settings toggle ===
    const settingsHeader = document.getElementById("settingsHeader");
    const settingsContent = document.getElementById("settingsContent");
    const toggleSettings = document.getElementById("toggleSettings");
    settingsHeader.addEventListener("click", () => {
      settingsContent.classList.toggle("active");
      toggleSettings.textContent = settingsContent.classList.contains("active") ? "‚ñ≤" : "‚ñº";
    });

    // === Theme toggle ===
    const themeToggle = document.getElementById("themeToggle");
    themeToggle.addEventListener("click", () => {
      document.body.classList.toggle("light");
      if (document.body.classList.contains("light")) {
        document.body.style.background = "#f8fafc";
        document.body.style.color = "#000";
      } else {
        document.body.style.background = "#0b1120";
        document.body.style.color = "#f3f4f6";
      }
    });
  </script>
</body>
</html>
